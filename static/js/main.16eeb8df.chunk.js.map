{"version":3,"sources":["img/Logo.svg","services/firebase.js","components/Loading.jsx","components/Auth.jsx","components/Login.jsx","services/Functions.js","components/Header.jsx","components/Budgets.jsx","components/AddSubject.js","components/Subject.js","components/Nav.jsx","components/Home.jsx","components/Companies.jsx","components/PrivateRoute.jsx","components/Facturacion.jsx","components/Provider.jsx","components/DetailsProvider.jsx","components/DetailSubject.js","components/AddBillBudget.jsx","components/example.js","components/Concept.jsx","components/BillBudget.jsx","components/DetailsBudgets.jsx","components/DetailsFacturacion.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Loading","className","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","pending","setPending","useEffect","auth","onAuthStateChanged","user","Provider","value","withRouter","history","email","setEmail","pass","setPass","handleLogin","useCallback","event","a","preventDefault","signInWithEmailAndPassword","push","alert","useContext","to","Form","onSubmit","src","Logo","alt","Group","controlId","Control","onChange","e","target","type","placeholder","Functions","collection","obj","firestore","add","id","doc","update","delete","Header","path","console","log","setUser","useLocation","toUpperCase","useStyles","makeStyles","theme","root","display","toolbar","mixins","props","classes","useTheme","useForm","register","handleSubmit","setSubjects","budgetsNew","setBudgetsNew","idBudget","edition","setEdition","budgets","setBudgets","show","setShow","facturas","setFacturas","formCobro","setFormCobro","payment","setPayment","hito","setHito","concept","setConcept","modoBudget","setModoBudget","clicked","setClicked","total","setTotal","totalHora","setTotalHora","totalEstimado","setTotalEstimado","companies","setCompanies","file","setFile","handleChange","name","filterData","id_btn","state","where","onSnapshot","querySnapshot","array","forEach","data","filterFacturas","tmpCobro","Array","fill","tmpPayment","tmpHito","tmpTotal","tmpHora","tmpEstimado","handleView","index","dataset","includes","sumArray","map","v","undefined","isNaN","reduce","b","parseInt","multiplyArray","array1","array2","x","formConcepts","i","style","width","Label","size","ref","Row","as","Col","defaultValue","data-index","hit","k","handleClick","ButtonGroup","onClick","Modal","onHide","Card","Body","arrKeys","Object","keys","arrValues","values","sumHoras","sumEstimado","sumFijo","isHour","length","montoFijo","storage","child","put","then","snapshot","getDownloadURL","uploadImage","url","provider","type_service","celular","subject","currency","num_concept","rows","alcance","company","nameCompany","corporative","files","variant","columns","title","field","onRowClick","evt","selectedRow","options","headerStyle","backgroundColor","color","AddSubject","setCompany","setSubject","errors","handleInputChange","newObj","docs","item","aria-labelledby","centered","closeButton","Title","reset","nameSubject","required","message","element","key","billSubject","responsibleSubject","Subject","dataSubject","setDataSubject","modalShow","setModalShow","tyoe","editable","onRowAdd","newData","Promise","resolve","setTimeout","onRowUpdate","oldData","onRowDelete","actionsColumnIndex","rowStyle","padding","drawer","breakpoints","up","flexShrink","background","appBar","marginLeft","menuButton","marginRight","spacing","drawerPaper","content","flexGrow","backGround","height","position","flexDirection","alignItems","texto","Nav","window","mobileOpen","setMobileOpen","List","text","ListItem","button","ListItemIcon","ListItemText","primary","signOut","catch","error","container","document","body","CssBaseline","aria-label","Hidden","smUp","implementation","Drawer","anchor","direction","open","onClose","paper","ModalProps","keepMounted","xsDown","Home","Footer","Button","close","Companies","dataCompanies","setDataCompanies","modoEdition","setModoEdition","setId","country","leader","changeEdit","PrivateRoute","RouteComponent","component","rest","render","routeProps","dataFactura","setDataFactura","dataProvider","setDataProvider","DetailsProvider","useParams","setProvider","get","socialProvider","typeProvider","countryProvider","emailProvider","DetailsSubject","budget","setBudget","AddBillBudget","allData","status","substatus","factura","numFactura","dateFactura","arrConcepto","setArrConcepto","arr","substr","filter","formElements","hora_estimada","tarifa_hora","idFactura","selectedValue","form_cobro","descripcion","form_payment","num_hitos","table","minWidth","Concept","concepto","setConcepto","TableContainer","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","row","scope","statusFactura","BillBudget","sumConcepto","setSumConcepto","newArr","fontSize","totalbudget","ele","marginBottom","cursor","pdf","DetailsBudgets","setTotalBudget","allTotal","montoTotal","estado","DetailsFacturacion","facturacion","setFacturacion","type_provider","App","setUsuario","exact","Login","Facturacion","Budgets","Boolean","location","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.16eeb8df.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Logo.28e991d9.svg\";","import * as firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: \"AIzaSyAKPk_uPxrH7VHv1IZ5vetuNPCGPvVq-3I\",\r\n\tauthDomain: \"inkia-hackaton.firebaseapp.com\",\r\n\tdatabaseURL: \"https://inkia-hackaton.firebaseio.com\",\r\n\tprojectId: \"inkia-hackaton\",\r\n\tstorageBucket: \"inkia-hackaton.appspot.com\",\r\n\tmessagingSenderId: \"654990055875\",\r\n\tappId: \"1:654990055875:web:2129188a6af1c177a94576\",\r\n\tmeasurementId: \"G-MCXVFK0B8C\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;","import React from 'react';\r\nimport '../css/Loading.css';\r\n\r\nconst Loading = () => (\r\n  <div>\r\n  <div className=\"preloader\">\r\n  </div>\r\n   <h3 className=\"text-loading\">Cargando...</h3>\r\n  </div>\r\n\r\n);\r\nexport default Loading;","import React, { useEffect, useState } from 'react';\r\nimport firebase from '../services/firebase';\r\n// import Loading from './components/Loading/Loading';\r\nimport Loading from './Loading';\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n\tconst [currentUser, setCurrentUser] = useState(null);\r\n\tconst [pending, setPending] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.auth().onAuthStateChanged((user) => {\r\n\t\t\tsetCurrentUser(user)\r\n\t\t\tsetPending(false)\r\n\t\t});\r\n\t}, []);\r\n\r\n\tif (pending) {\r\n\t\treturn <Loading />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tcurrentUser\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n}","import React, { useState, useCallback, useContext } from 'react';\r\nimport { Form } from 'react-bootstrap';\r\nimport firebase from '../services/firebase';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { AuthContext } from './Auth';\r\nimport '../css/Login.css';\r\nimport Logo from '../img/Logo.svg'\r\n\r\nconst Login = ({ history }) => {\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [pass, setPass] = useState('')\r\n\r\n\tconst handleLogin = useCallback(\r\n\t\tasync event => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\ttry {\r\n\t\t\t\tawait firebase\r\n\t\t\t\t\t.auth()\r\n\t\t\t\t\t.signInWithEmailAndPassword(email, pass);\r\n\t\t\t\thistory.push(\"/budgets\");\r\n\t\t\t} catch (error) {\r\n\t\t\t\talert(error);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[email, pass, history]\r\n\t);\r\n\r\n\tconst { currentUser } = useContext(AuthContext);\r\n\r\n\tif (currentUser) {\r\n\t\treturn <Redirect to=\"/Home\" />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"Form-Login\">\r\n\r\n\r\n\t\t\t<Form className=\"form-style\" onSubmit={handleLogin}>\r\n\t\t\t\t<img className=\"Logo\" src={Logo} alt=\"Logo\" />\r\n\t\t\t\t<Form.Group controlId=\"formBasicEmail\">\r\n\t\t\t\t\t<div className=\"email\">\r\n\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tclassName=\"input-style email-form\"\r\n\t\t\t\t\t\t\tonChange={e => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\ttype=\"email\" placeholder=\"Usuario\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId=\"formBasicPassword\">\r\n\t\t\t\t\t<div className=\"password\">\r\n\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\tclassName=\"input-style password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tvalue={pass}\r\n\t\t\t\t\t\t\tonChange={e => setPass(e.target.value)}\r\n\t\t\t\t\t\t\tplaceholder=\"ContraseÃ±a\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<div>\r\n\r\n\t\t\t\t\t<button className=\"Button-enter\" type=\"submit\">\r\n\t\t\t\t\t\t<p className=\"Text-Enter\"> Login </p>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Login)\r\n","import firebase from './firebase';\r\n\r\nexport const Functions = {\r\n\r\n  readData(collection, callback) {\r\n    firebase.firestore()\r\n      .collection(collection)\r\n      .onSnapshot(onSnapshot => {\r\n        const newObj = onSnapshot.docs.map((item) => ({\r\n          id: item.id,\r\n          ...item.data()\r\n        }))\r\n        callback(newObj);\r\n      })\r\n  },\r\n\r\n  createData(collection, obj) {\r\n    firebase.firestore()\r\n      .collection(collection)\r\n      .add(obj)\r\n  },\r\n\r\n  updateData(collection, id, obj) {\r\n    firebase\r\n      .firestore()\r\n      .collection(collection)\r\n      .doc(id)\r\n      .update(obj)\r\n  },\r\n\r\n  deleteData(collection, id) {\r\n    firebase\r\n      .firestore()\r\n      .collection(collection)\r\n      .doc(id)\r\n      .delete()\r\n\r\n  }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom'\r\nimport firebase from '../services/firebase'\r\nimport '../css/Header.css';\r\n\r\nconst Header = ({path}) => {\r\n    console.log(path);\r\n    const [user, setUser] = useState();\r\n    let location = useLocation();\r\n    useEffect(() => {\r\n        setUser(firebase.auth().currentUser)\r\n    });\r\n    // location.pathname.substr(1, location.pathname.length - 1).\r\n    return (\r\n        <div className=\"container-header\">\r\n            <div className=\"location\">{path.toUpperCase()}</div>\r\n            <div className=\"d-flex align-items-center\">\r\n\r\n                <div>{user ? user.email : ''}</div>\r\n                <img src=\"https://img.icons8.com/cotton/64/000000/gender-neutral-user--v3.png\" alt=\"avatar\" />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default Header;\r\n","import React, { useEffect } from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\nimport MaterialTable from 'material-table'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Button from '@material-ui/core/Button';\r\nimport firebase from '../services/firebase';\r\nimport { Form, Col, Card, Modal } from 'react-bootstrap';\r\nimport { Functions } from '../services/Functions';\r\nimport { ButtonGroup } from 'react-bootstrap';\r\nimport Nav from './Nav';\r\nimport Header from './Header';\r\nimport '../css/Budget.css';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\ttoolbar: theme.mixins.toolbar,\r\n}))\r\nconst Budgets = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst theme = useTheme();\r\n\r\n\tconst { register, handleSubmit } = useForm();\r\n\tconst [subjects, setSubjects] = React.useState([]);\r\n\tconst [budgetsNew, setBudgetsNew] = React.useState({});\r\n\tconst [idBudget, setIdBudget] = React.useState('');\r\n\tconst [edition, setEdition] = React.useState('noedit');\r\n\tconst [budgets, setBudgets] = React.useState([]);\r\n\tconst [show, setShow] = React.useState(false);\r\n\tconst [facturas, setFacturas] = React.useState([]);\r\n\tconst [formCobro, setFormCobro] = React.useState([]);\r\n\tconst [payment, setPayment] = React.useState([]);\r\n\tconst [hito, setHito] = React.useState([]);\r\n\tconst [concept, setConcept] = React.useState();\r\n\tconst [modoBudget, setModoBudget] = React.useState(true);\r\n\r\n\tconst [clicked, setClicked] = React.useState('button1');\r\n\tconst [total, setTotal] = React.useState([]);\r\n\tconst [totalHora, setTotalHora] = React.useState([]);\r\n\tconst [totalEstimado, setTotalEstimado] = React.useState([]);\r\n\t// const [montoTotal, setMontoTotal] = React.useState();\r\n\tconst [companies, setCompanies] = React.useState([]);\r\n\tconst [file, setFile] = React.useState([]);\r\n\r\n\tconst handleClose = () => setShow(false);\r\n\tconst handleShow = () => setShow(true);\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tif (e.target.name === 'num_concept') {\r\n\t\t\tsetConcept(e.target.value)\r\n\t\t}\r\n\t\tsetBudgetsNew(e.target.value);\r\n\t}\r\n\r\n\t//upload pdf\r\n\tconst uploadImage = (file) => {\r\n\t\tconst postImageRef = firebase.storage().ref().child(`presupuestos/${file.name}`);\r\n\t\treturn postImageRef.put(file)\r\n\t\t\t.then(snapshot => snapshot.ref.getDownloadURL());\r\n\t};\r\n\r\n\t/* CRUD Budgets */\r\n\tconst addBudget = (data, event) => {\r\n\t\tconst arrKeys = Object.keys(data);\r\n\t\tconst arrValues = Object.values(data);\r\n\t\tconst sumHoras = [];\r\n\t\tconst sumEstimado = [];\r\n\t\tlet sumFijo = 0;\r\n\t\tlet isHour = false;\r\n\t\tfor (let i = 0; i < arrKeys.length; i++) {\r\n\t\t\tconsole.log(arrKeys[i], arrKeys[i].includes('tarifa_hora'));\r\n\t\t\tif (arrKeys[i].includes('tarifa_hora')) {\r\n\t\t\t\tisHour = true;\r\n\t\t\t\tsumHoras.push(arrValues[i]);\r\n\t\t\t}\r\n\t\t\tif (arrKeys[i].includes('hora_estimada')) {\r\n\t\t\t\tsumEstimado.push(arrValues[i])\r\n\t\t\t}\r\n\t\t\tif (arrKeys[i].includes('total')) {\r\n\t\t\t\tsumFijo += parseInt(arrValues[i])\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(sumHoras, sumEstimado, sumFijo)\r\n\r\n\t\tconst montoFijo = isHour ? sumArray(multiplyArray(sumHoras, sumEstimado)) : 0;\r\n\t\tdata['montoTotal'] = montoFijo + sumFijo;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tdata['estado'] = 'pendiente';\r\n\t\tuploadImage(file[0]).then((url) => {\r\n\t\t\tdata['pdf'] = url;\r\n\t\t\tFunctions.createData('budgets', data);\r\n\t\t})\r\n\t};\r\n\tconst saveUpdatedBudget = (data, event) => {\r\n\t\tevent.preventDefault();\r\n\t\tdata['estado'] = 'PENDIENTE';\r\n\t\tsetEdition('noedit');\r\n\t\tFunctions.updateData('budgets', idBudget, data);\r\n\t}\r\n\t/* Filter data*/\r\n\tconst filterData = (id_btn, state) => {\r\n\t\tsetModoBudget(true)\r\n\t\tsetClicked(id_btn)\r\n\t\tfirebase.firestore().collection('budgets').where('estado', '==', state).onSnapshot((querySnapshot) => {\r\n\t\t\tconst array = [];\r\n\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\tarray.push({ id: doc.id, ...doc.data() });\r\n\t\t\t});\r\n\t\t\tsetBudgets(array);\r\n\t\t})\r\n\t}\r\n\r\n\tconst filterFacturas = (id_btn, state) => {\r\n\t\tsetModoBudget(false)\r\n\t\tsetClicked(id_btn)\r\n\t\tfirebase.firestore().collection('factura').where('status', '==', state).onSnapshot((querySnapshot) => {\r\n\t\t\tconst array = [];\r\n\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\tarray.push({ id: doc.id, ...doc.data() });\r\n\t\t\t});\r\n\t\t\tsetFacturas(array);\r\n\t\t})\r\n\t}\r\n\r\n\tlet tmpCobro = Array(concept).fill(0);\r\n\tlet tmpPayment = Array(concept).fill(0);\r\n\tlet tmpHito = Array(concept).fill(0);\r\n\tlet tmpTotal = Array(concept).fill(0);\r\n\tlet tmpHora = Array(concept).fill(0);\r\n\tlet tmpEstimado = Array(concept).fill(0);\r\n\tconst handleView = (e) => {\r\n\t\tconsole.log(e.target.value);\r\n\t\tconst index = e.target.dataset.index;\r\n\t\ttmpCobro = [...formCobro];\r\n\t\ttmpPayment = [...payment];\r\n\t\ttmpHito = [...hito];\r\n\t\ttmpTotal = [...total];\r\n\t\ttmpHora = [...totalHora];\r\n\t\ttmpEstimado = [...totalEstimado];\r\n\t\tif (e.target.name.includes('form_cobro')) {\r\n\t\t\ttmpCobro[index] = e.target.value;\r\n\t\t\tsetFormCobro(tmpCobro);\r\n\t\t}\r\n\t\tif (e.target.name.includes('form_payment')) {\r\n\t\t\ttmpPayment[index] = e.target.value;\r\n\t\t\tsetPayment(tmpPayment);\r\n\t\t}\r\n\t\tif (e.target.name.includes('num_hitos')) {\r\n\t\t\ttmpHito[index] = e.target.value;\r\n\t\t\tsetHito(tmpHito);\r\n\t\t}\r\n\t\tif (e.target.name.includes('total')) {\r\n\t\t\ttmpTotal[index] = e.target.value;\r\n\t\t\tsetTotal(tmpTotal)\r\n\t\t}\r\n\t\tif (e.target.name.includes('tarifa_hora')) {\r\n\t\t\ttmpHora[index] = e.target.value;\r\n\t\t\tsetTotalHora(tmpHora)\r\n\t\t}\r\n\t\tif (e.target.name.includes('hora_estimada')) {\r\n\t\t\ttmpEstimado[index] = e.target.value;\r\n\t\t\tsetTotalEstimado(tmpEstimado)\r\n\t\t}\r\n\t}\r\n\r\n\tconst sumArray = (array) => {\r\n\t\tconsole.log(array, 'array');\r\n\t\tarray = array.map(v => (v === undefined || isNaN(v)) ? 0 : v);\r\n\t\treturn array.reduce((a, b) => parseInt(a) + parseInt(b), 0)\r\n\t}\r\n\r\n\tconst multiplyArray = (array1, array2) => {\r\n\t\treturn array1.map((x, index) => {\r\n\t\t\tx = isNaN(x) ? 0 : x;\r\n\t\t\treturn parseInt(x) * parseInt(array2[index]);\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tconst formConcepts = [];\r\n\tfor (let i = 0; i < concept; i++) {\r\n\t\tformConcepts.push(<div style={{ width: '100%' }}><div className=\"title-concept\">Concepto {i + 1}</div><Form.Group><Form.Label>DescripciÃ³n</Form.Label><Form.Control size=\"sm\" ref={register} name={'concepto' + i} id={'concepto' + i} onChange={handleView} /></Form.Group>\r\n\t\t\t<Form.Row>\r\n\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t<Form.Label>Tipo de cobro</Form.Label>\r\n\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" defaultValue=\"Choose...\" ref={register} data-index={i} name={\"form_cobro\" + i} id={\"form_cobro\" + i} onChange={handleView}>\r\n\t\t\t\t\t\t<option>Choose...</option>\r\n\t\t\t\t\t\t<option>Fijo</option>\r\n\t\t\t\t\t\t<option>Fijo + exito</option>\r\n\t\t\t\t\t\t<option>Horas</option>\r\n\t\t\t\t\t</Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t<Form.Label>Forma de pago</Form.Label>\r\n\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" defaultValue=\"Choose...\" ref={register} data-index={i} name={\"form_payment\" + i} id={\"form_payment\" + i} onChange={handleView}>\r\n\t\t\t\t\t\t<option>Choose...</option>\r\n\t\t\t\t\t\t<option>Hitos</option>\r\n\t\t\t\t\t\t<option>Mensual</option>\r\n\t\t\t\t\t\t<option>Bimestral</option>\r\n\t\t\t\t\t\t<option>Trimestral</option>\r\n\t\t\t\t\t\t<option>Semestral</option>\r\n\t\t\t\t\t\t<option>Anual</option>\r\n\t\t\t\t\t</Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t</Form.Row></div>\r\n\t\t);\r\n\t\tif (formCobro[i] === 'Fijo') {\r\n\t\t\tformConcepts.push(<Form.Group style={{ width: '100%' }} >\r\n\t\t\t\t<Form.Label>Monto</Form.Label>\r\n\t\t\t\t<Form.Control size=\"sm\" ref={register} name={\"total\" + i} data-index={i} id={\"total\" + i} onChange={handleView} />\r\n\t\t\t</Form.Group>,\r\n\t\t\t\t<p className=\"subTotal\" ref={register} name={\"subtotal\" + i} data-index={i} id={\"subtotal\" + i} onChange={handleView}><span className=\"bold\">SubTotal:</span> {total[i]}</p>\r\n\t\t\t)\r\n\t\t}\r\n\t\tif (formCobro[i] === 'Fijo + exito') {\r\n\t\t\tformConcepts.push(<div style={{ width: '100%' }}>\r\n\t\t\t\t<Form.Row>\r\n\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t<Form.Label>Monto</Form.Label>\r\n\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name={\"total\" + i} data-index={i} id={\"total\" + i} onChange={handleView} />\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t<Form.Label>Definicion de Ã©xito</Form.Label>\r\n\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name={\"descripcion\" + i} id={\"descripcion\" + i} onChange={handleView} />\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Form.Row>\r\n\t\t\t\t<p className=\"subTotal\" ref={register} name={\"subtotal\" + i} data-index={i} id={\"subtotal\" + i} onChange={handleView}><span className=\"bold\">SubTotal:</span> {total[i]}</p>\r\n\t\t\t</div>)\r\n\r\n\t\t}\r\n\t\tif (formCobro[i] === 'Horas') {\r\n\t\t\tformConcepts.push(<div style={{ width: '100%' }}>\r\n\t\t\t\t<Form.Row>\r\n\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t<Form.Label>Tarifa horaria</Form.Label>\r\n\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name={\"tarifa_hora\" + i} data-index={i} id={\"tarifa_hora\" + i} onChange={handleView} />\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t<Form.Label>Horas estimadas</Form.Label>\r\n\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name={\"hora_estimada\" + i} data-index={i} id={\"hora_estimada\" + i} onChange={handleView} />\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Form.Row>\r\n\t\t\t\t<p className=\"subTotal\"><span className=\"bold\">SubTotal: </span> {parseInt(totalHora[i]) * parseInt(totalEstimado[i])}</p>\r\n\t\t\t</div>)\r\n\t\t}\r\n\t\tif (payment[i] === 'Hitos') {\r\n\t\t\tformConcepts.push(<div>\r\n\t\t\t\t<Form.Label>NÃºmero de hitos:</Form.Label>\r\n\t\t\t\t<Form.Control size=\"sm\" as=\"select\" defaultValue=\"Choose...\" ref={register} data-index={i} name={\"num_hitos\" + i} id={\"num_hitos\" + i} onChange={handleView}>\r\n\t\t\t\t\t<option>Choose...</option>\r\n\t\t\t\t\t{[...Array(5)].map((e, i) => (\r\n\t\t\t\t\t\t<option>{i + 1}</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Form.Control>\r\n\t\t\t</div>);\r\n\t\t\tif (hito[i]) {\r\n\t\t\t\tconsole.log(hito[i], 'i');\r\n\t\t\t\tformConcepts.push(<div>\r\n\t\t\t\t\t{[...Array(parseInt(hito[i]))].map((hit, k) => (\r\n\t\t\t\t\t\t// <Form.Label>Hito {i}</Form.Label>,\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Monto del hito {k + 1}</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name={'hito_monto' + i + k} id={'hito_monto' + i + k} onChange={handleView} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Descripcion del hito {k + 1}</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name={'hito_desc' + i + k} id={'hito_desc' + i + k} onChange={handleView} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t)}</div>)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleClick = (id) => {\r\n\t\tprops.history.push(`/budgets/${id}`);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.firestore().collection('budgets').where('estado', '==', 'pendiente').onSnapshot((querySnapshot) => {\r\n\t\t\tconst array = [];\r\n\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\tarray.push({ id: doc.id, ...doc.data() });\r\n\t\t\t});\r\n\t\t\tsetBudgets(array);\r\n\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.firestore().collection('subject').onSnapshot((querySnapshot) => {\r\n\t\t\tconst array = [];\r\n\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\tarray.push({ id: doc.id, ...doc.data() });\r\n\t\t\t});\r\n\t\t\tsetSubjects(array);\r\n\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.firestore().collection('companies').onSnapshot((querySnapshot) => {\r\n\t\t\tconst array = [];\r\n\t\t\tquerySnapshot.forEach((doc) => {\r\n\t\t\t\tarray.push({ id: doc.id, ...doc.data() });\r\n\t\t\t});\r\n\t\t\tsetCompanies(array);\r\n\t\t})\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Nav />\r\n\t\t\t<div style={{ width: '100%' }}>\r\n\t\t\t\t<Header className={classes.toolbar} path='inicio'></Header>\r\n\t\t\t\t<div className=\"d-flex flex-column align-items-center container-budget\">\r\n\t\t\t\t\t<ButtonGroup className=\"btn-group\">\r\n\t\t\t\t\t\t<Button id=\"button1\" onClick={e => filterData(\"button1\", 'pendiente')} className={clicked === 'button1' ? 'active' : \"btn-budget\"}>Presupuestos por aprobar</Button>\r\n\t\t\t\t\t\t<Button id=\"button2\" onClick={e => filterData(\"button2\", 'pendiente de aprobacion')} className={clicked === 'button2' ? 'active' : \"btn-budget\"}>Presupuestos aprobados</Button>\r\n\t\t\t\t\t\t<Button id=\"button3\" onClick={e => filterFacturas(\"button3\", 'pendiente')} className={clicked === 'button3' ? 'active' : \"btn-budget\"}>Facturas por aprobar</Button>\r\n\t\t\t\t\t\t<Button id=\"button4\" onClick={e => filterFacturas(\"button4\", 'aprobada')} className={clicked === 'button4' ? 'active' : \"btn-budget\"}>Facturas aprobadas</Button>\r\n\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t\t\t\t<Card style={{ width: '35rem' }}>\r\n\t\t\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t\t\t<Form onSubmit={edition === 'edit' ? handleSubmit(saveUpdatedBudget) : handleSubmit(addBudget)}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"width-90\">\r\n\t\t\t\t\t\t\t\t\t\t<h5>Contacto del proveedor</h5>\r\n\t\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Proveedor</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" type=\"text\" placeholder=\"\" ref={register} name=\"provider\" id=\"provider\" onChange={handleChange} value={budgetsNew.provider} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Tipo de servicio</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" defaultValue=\"Choose...\" ref={register} name=\"type_service\" id=\"type_service\" onChange={handleChange} value={budgetsNew.type_service}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Choose...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Agente residente</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Controversia</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Financiamiento/proyecto</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <option>Financiamiento/proyecto</option> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Notaria</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Otro</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Contacto del proveedor</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" placeholder=\"\" ref={register} name=\"name\" id=\"name\" onChange={handleChange} value={budgetsNew.name} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Celular</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" placeholder=\"\" ref={register} name=\"celular\" id=\"celular\" onChange={handleChange} value={budgetsNew.celular} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Email</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"email\" size=\"sm\" placeholder=\"\" ref={register} name=\"email\" id=\"email\" onChange={handleChange} value={budgetsNew.email} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"width-90\">\r\n\t\t\t\t\t\t\t\t\t\t<h5>Conceptos</h5>\r\n\t\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Asunto</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" size=\"sm\" placeholder=\"\" ref={register} name=\"subject\" id=\"subject\" onChange={handleChange} value={budgetsNew.subject} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Moneda</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" defaultValue=\"Choose...\" ref={register} name=\"currency\" id=\"currency\" onChange={handleView} value={budgetsNew.currency}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Choose...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Soles</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Euros</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Dolares</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Libras esterlinas</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>NÃºmero de conceptos:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name=\"num_concept\" id=\"num_concept\" onChange={handleChange} value={budgetsNew.num_concept} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"container-concepts\">\r\n\t\t\t\t\t\t\t\t\t\t\t{concept && formConcepts}\r\n\t\t\t\t\t\t\t\t\t\t\t{concept && <p className=\"pTotal\"><span className=\"bold\">Monto total: </span> {sumArray(multiplyArray(totalHora, totalEstimado)) + sumArray(total)}</p>}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Alcance del encargo</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control as=\"textarea\" rows=\"3\" className=\"alcance\" ref={register} name=\"alcance\" id=\"alcance\" onChange={handleChange} value={budgetsNew.alcance} />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"width-90\">\r\n\t\t\t\t\t\t\t\t\t\t<h5>Empresa contratante</h5>\r\n\t\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Empresa contratante</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" defaultValue=\"Choose...\" ref={register} name=\"company\" id=\"company\" onChange={handleChange} value={budgetsNew.company}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>Choose...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{companies.map((company) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option>{company.nameCompany}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Empresa contratante</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name=\"company\" id=\"company\" onChange={handleChange} value={budgetsNew.company} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group> */}\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Responsable en Inkia</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name=\"corporative\" id=\"corporative\" onChange={handleChange} value={budgetsNew.corporative} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Presupuesto</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"file\" className=\"hide my-2 fileButton\" name=\"file\" id=\"fileButton\" onChange={(e) => setFile(e.target.files)} />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Button className=\"button-save\" size=\"large\" variant=\"outlined\" type=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t{edition === 'edit' ? 'EDIT' : 'SAVE'}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t\t<div style={{ width: '100%' }}>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmodoBudget ? (\r\n\t\t\t\t\t\t\t\t<MaterialTable\r\n\r\n\t\t\t\t\t\t\t\t\tcolumns={[\r\n\t\t\t\t\t\t\t\t\t\t{ title: 'ASUNTO', field: 'subject' },\r\n\t\t\t\t\t\t\t\t\t\t{ title: 'PROVEEDOR', field: 'provider' },\r\n\t\t\t\t\t\t\t\t\t\t{ title: 'TIPO DE SERVICIO', field: 'type_service' },\r\n\t\t\t\t\t\t\t\t\t\t{ title: 'RESPONSABLE', field: 'corporative' }\r\n\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\tdata={budgets}\r\n\t\t\t\t\t\t\t\t\tonRowClick={((evt, selectedRow) => handleClick(selectedRow.id))}\r\n\t\t\t\t\t\t\t\t\ttitle=\"\"\r\n\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\theaderStyle: {\r\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#9e8ca9',\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#000'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\t\t\t\t\tcolumns={[\r\n\t\t\t\t\t\t\t\t\t\t\t{ title: 'NÂ° DE FACTURA', field: 'numFactura' },\r\n\t\t\t\t\t\t\t\t\t\t\t{ title: 'ASUNTO', field: 'subject' },\r\n\t\t\t\t\t\t\t\t\t\t\t{ title: 'PROVEEDOR', field: 'provider' },\r\n\t\t\t\t\t\t\t\t\t\t\t{ title: 'RESPONSABLE', field: 'corporative' },\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'ESTADO',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfield: 'substatus',\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\tdata={facturas}\r\n\t\t\t\t\t\t\t\t\t\tonRowClick={((evt, selectedRow) => handleClick(selectedRow.idBudget))}\r\n\t\t\t\t\t\t\t\t\t\ttitle=\"\"\r\n\t\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t\theaderStyle: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#9e8ca9',\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#000'\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button type=\"buttom\" className=\"newButton\" onClick={handleShow}>Nuevo</button>\r\n\t\t\t\t</div >\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Budgets);\r\n","import React, {useState, useEffect} from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { Functions } from '../services/Functions';\r\nimport { useForm } from \"react-hook-form\";\r\nimport firebase from '../services/firebase';\r\nimport '../css/AddSubject.css';\r\nimport '../css/Subject.css';\r\n\r\nconst  AddSubject = (props) => {\r\n\r\n  const [company, setCompany] = useState([]);\r\n  const [subject, setSubject] = useState({});\r\n  const { register, handleSubmit, errors } = useForm();\r\n\r\n  const onSubmit = (data, e) => {\r\n    console.log(data)\r\n    e.preventDefault();\r\n    Functions.createData('subject', data);\r\n    e.target.reset();\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    setSubject(e.target.value)\r\n  }\r\n\r\n  useEffect(()=> {\r\n    firebase.firestore()\r\n      .collection('companies')\r\n      .onSnapshot(onSnapshot => {\r\n        const newObj= onSnapshot.docs.map((item) => ({\r\n          id: item.id,\r\n          ...item.data()\r\n        }))\r\n        setCompany(newObj)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size=\"md\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Crear un asunto\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <p className=\"name\">Nombre del asunto: <span className=\"text-danger\">*</span></p>\r\n          <input type=\"text\" name=\"nameSubject\" className=\"nameSubject form-asunto\" id=\"nameSubject\" value={subject.nameSubject}\r\n            onChange={handleInputChange}\r\n            ref={register({ required: {value: true, message: 'Campo Obligatorio'}})}\r\n          />\r\n          <span className=\"text-danger text-small d-block mb-2\">\r\n            {errors.nameSubject && errors.nameSubject.message}\r\n          </span>\r\n          <label>Empresa que va a facturar: <span className=\"text-danger\">*</span></label>\r\n          <select className=\"select-asunto\" defaultValue=\"Choose...\" name=\"billSubject\" type=\"select\" ref={register} onChange={handleInputChange}>\r\n            <option>Choose...</option>\r\n            {company.map((element) => (\r\n              <option key={element.id} value={element.nameCompany}>{element.nameCompany}</option>\r\n            ))}\r\n          </select>\r\n          <span className=\"text-danger text-small d-block mb-2\">\r\n            {errors.billSubject && errors.billSubject.message}\r\n          </span>\r\n          <label>Responsable de Inkia: <span className=\"text-danger\">*</span></label>\r\n          <input type=\"text\" name=\"responsibleSubject\" className=\"responsable\" id=\"responsibleSubject\" value={subject.responsibleSubject}\r\n            onChange={handleInputChange}\r\n            ref={register({\r\n              required: {value: true, message: 'Campo Obligatorio'}\r\n              }\r\n            )}\r\n          />\r\n          <span className=\"text-danger text-small d-block mb-2\">\r\n            {errors.responsibleSubject && errors.responsibleSubject.message}\r\n          </span>\r\n          <br/>\r\n          <div className=\"AllButtom\">\r\n\r\n          <div type=\"buttom\" className=\"closeButtom btn btn-secondary\" onClick={props.onHide}>Cancelar</div>\r\n          <button type=\"submit\" className=\"addButtom btn btn-secondary\">Crear Asunto </button>\r\n\r\n          </div>\r\n        </form>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default AddSubject","import React, { useState, useEffect } from 'react';\r\nimport firebase from '../services/firebase';\r\nimport MaterialTable from 'material-table';\r\nimport AddSubject from './AddSubject';\r\nimport '../css/Subject.css';\r\nimport { Functions } from '../services/Functions';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Nav from './Nav';\r\nimport Header from './Header';\r\nimport Logo from '../img/Logo.svg'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\ttoolbar: theme.mixins.toolbar,\r\n}))\r\n\r\nconst Subject = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst theme = useTheme();\r\n\tconst [user, setUser] = useState(null);\r\n\tconst [dataSubject, setDataSubject] = useState([]);\r\n\tconst [modalShow, setModalShow] = React.useState(false);\r\n\r\n\tconst header = [\r\n\t\t{ title: 'ASUNTO', field: 'nameSubject' },\r\n\t\t{ title: 'EMPRESA QUE VA A FACTURAR', field: 'billSubject' },\r\n\t\t{ title: 'RESPONSABLE DE INKIA', field: 'responsibleSubject' }\r\n\t]\r\n\r\n\tconst handleClick = (id) => {\r\n\t\tprops.history.push(`subject/${id}`);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.firestore()\r\n\t\t\t.collection('subject')\r\n\t\t\t.onSnapshot(onSnapshot => {\r\n\t\t\t\tconst newObj = onSnapshot.docs.map((item) => ({\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t...item.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetDataSubject(newObj)\r\n\t\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firebase.auth().currentUser) {\r\n\t\t\tsetUser(firebase.auth().currentUser)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tprops.history.push('/login')\r\n\t\t}\r\n\t}, [props.history])\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Nav />\r\n\t\t\t<div style={{ width: '100%' }}>\r\n\t\t\t\t<Header className={classes.toolbar} path=\"asunto\"></Header>\r\n\t\t\t\t<div className=\"container-subject\">\r\n\t\t\t\t\t<div className=\"divButton\">\r\n\t\t\t\t\t\t<button tyoe=\"buttom\" className=\"addSubject\" onClick={() => setModalShow(true)}>\r\n\t\t\t\t\t\t\tCrear un asunto\r\n        \t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"\"\r\n\t\t\t\t\t\t// className={classes.header}\r\n\t\t\t\t\t\tcolumns={header}\r\n\t\t\t\t\t\tdata={dataSubject}\r\n\t\t\t\t\t\tonRowClick={((evt, selectedRow) => handleClick(selectedRow.id))}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\tFunctions.createData('subject', newData)\r\n\t\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\tFunctions.updateData('subject', oldData.id, newData);\r\n\t\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\tFunctions.deleteData('subject', oldData.id)\r\n\t\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\tactionsColumnIndex: -1,\r\n\t\t\t\t\t\t\theaderStyle: {\r\n\t\t\t\t\t\t\t\tbackgroundColor: '#9e8ca9',\r\n\t\t\t\t\t\t\t\tcolor: '#000'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\trowStyle: {\r\n\t\t\t\t\t\t\t\tpadding: '0 !important',\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<AddSubject\r\n\t\t\t\t\t\tshow={modalShow}\r\n\t\t\t\t\t\tonHide={() => setModalShow(false)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t)\r\n}\r\n\r\nexport default Subject","import React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Budgets from '../components/Budgets';\r\nimport { Link } from \"react-router-dom\";\r\nimport '../css/Nav.css';\r\nimport Subject from './Subject';\r\nimport Logo from '../img/Logo.svg'\r\nimport HomeIcon from '@material-ui/icons/Home'\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport StorageIcon from '@material-ui/icons/Storage';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport Header from './Header';\r\nimport firebase from '../services/firebase';\r\n\r\nimport '../css/Nav.css';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n      background: '#A20067',\r\n\r\n    },\r\n  },\r\n  appBar: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n\r\n    },\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'none',\r\n      background: '#A20067',\r\n    },\r\n  },\r\n  // necessary for content to be below app bar\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n    background: 'linear-gradient(45deg, #A20067 100%, #A20067 100%)',\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    // padding: theme.spacing(3),\r\n  },\r\n  backGround: {\r\n    width: '100%',\r\n    background: '#A20067',\r\n    height: 579,\r\n    position: 'absolute',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  texto: {\r\n    color: '#FFFFFF',\r\n  }\r\n}));\r\n\r\nfunction Nav(props) {\r\n  const { window } = props;\r\n\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [mobileOpen, setMobileOpen] = React.useState(false);\r\n\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const signOut = () => {\r\n\t\tfirebase.auth().signOut().then(() => {\r\n\t\t\tprops.history.push('/')\r\n\t\t}).catch((error) => {\r\n\t\t\tconsole.log(error);\r\n\t\t})\r\n  }\r\n  \r\n  const drawer = (\r\n    <div >\r\n      <div className={classes.backGround}>\r\n\r\n        <div className={classes.toolbar} />\r\n        <div className=\"containerLogo\"><img className=\"LogoNav\" src={Logo} alt=\"Logo\" /></div>\r\n        <List className=\"text\">\r\n          {[{ name: 'Panel Principal', path: '/budgets' }, { name: 'Asuntos', path: '/subject' }, { name: 'Facturas', path: '/facturacion' }, { name: 'Proveedores', path: '/provider' }].map((text, index) => (\r\n\r\n            <Link className=\"list\" to={text.path}>\r\n              <ListItem button key={text.name}>\r\n                <ListItemIcon>{index === 0 ? <HomeIcon /> : index === 1 ? <AssignmentIcon /> : index === 2 ? < StorageIcon /> : <PeopleIcon />}</ListItemIcon>\r\n                <ListItemText primary={text.name} />\r\n              </ListItem>\r\n            </Link>\r\n          ))}\r\n          <ListItem button className=\"list\" onClick={signOut}>\r\n            <ListItemIcon> <ExitToAppIcon /></ListItemIcon>\r\n            <ListItemText className=\"list\" primary='Cerrar SesiÃ³n' />\r\n          </ListItem>\r\n        </List>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const container = window !== undefined ? () => window().document.body : undefined;\r\n\r\n  return (\r\n    <div>\r\n\r\n      <div className={classes.root}>\r\n        <CssBaseline />\r\n        <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n          {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n          <Hidden smUp implementation=\"css\">\r\n            <Drawer\r\n              container={container}\r\n              variant=\"temporary\"\r\n              anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n              open={mobileOpen}\r\n              onClose={handleDrawerToggle}\r\n              classes={{\r\n                paper: classes.drawerPaper,\r\n              }}\r\n              ModalProps={{\r\n                keepMounted: true, // Better open performance on mobile.\r\n              }}\r\n            >\r\n              {drawer}\r\n            </Drawer>\r\n          </Hidden>\r\n          <Hidden xsDown implementation=\"css\">\r\n            <Drawer\r\n              classes={{\r\n                paper: classes.drawerPaper,\r\n              }}\r\n              variant=\"permanent\"\r\n              open\r\n            >\r\n              {drawer}\r\n            </Drawer>\r\n          </Hidden>\r\n        </nav>\r\n        <main className={classes.content}>\r\n        </main>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Nav;","import React, { useState } from 'react';\r\nimport { Modal, Button } from 'react-bootstrap';\r\nimport Nav from './Nav';\r\nimport firebase from '../services/firebase';\r\nimport '../css/Home.css';\r\nconst Home = (props) => {\r\n\tconst [show, setShow] = useState(false);\r\n\tconst handleClose = () => setShow(false);\r\n\tconst handleShow = () => setShow(true);\r\n\r\n\tconst signOut = () => {\r\n\t\tfirebase.auth().signOut().then(() => {\r\n\t\t\tprops.history.push('/')\r\n\t\t}).catch((error) => {\r\n\t\t\tconsole.log(error);\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\r\n\t\t<div style={{height: '100vh'}}>\r\n\t\t\t<div className=\"modales\">\r\n\t\t\t\t<Modal className=\"modales\" show={show}  onHide={handleClose}>\r\n\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t\t<Modal.Title>Cerrar SesiÃ³n</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Â¿EstÃ¡s seguro de cerrar sesiÃ³n?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={signOut}>\r\n\t\t\t\t\t\t\tCerrar \r\n\t\t\t  </Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t\t\t<Nav close={handleShow} />\r\n\t\t</div>\r\n\r\n\r\n\t)\r\n}\r\n\r\nexport default Home;","import React, { useState, useEffect } from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Functions } from '../services/Functions';\r\nimport firebase from '../services/firebase';\r\n\r\nconst Companies = (props) => {\r\n\r\n    const [user, setUser] = useState(null);\r\n    const [dataCompanies, setDataCompanies] = useState([]);\r\n    const [companies, setCompanies] = useState({});\r\n    const [modoEdition, setModoEdition] = useState(false);\r\n    const [id, setId] = useState('');\r\n    const { register, handleSubmit, errors } = useForm();\r\n\r\n    useEffect(()=> {\r\n      firebase.firestore()\r\n        .collection('companies')\r\n        .onSnapshot(onSnapshot => {\r\n          const newObj= onSnapshot.docs.map((item) => ({\r\n            id: item.id,\r\n            ...item.data()\r\n          }))\r\n          setDataCompanies(newObj)\r\n        })\r\n    }, [])\r\n\r\n    useEffect(()=> {\r\n      if(firebase.auth().currentUser){\r\n        setUser(firebase.auth().currentUser)\r\n      }\r\n      else {\r\n        props.history.push('/login')\r\n      }\r\n    }, [props.history])\r\n\r\n    const onSubmit = (data, e) => {\r\n      e.preventDefault();\r\n      Functions.createData('companies', data)\r\n      e.target.reset();\r\n    }\r\n\r\n    const changeEdit = (item) => {\r\n      setModoEdition(true)\r\n      setId(item.id)\r\n      setCompanies(item)\r\n    }\r\n\r\n    const handleInputChange = (e) => {\r\n    setCompanies(e.target.value)\r\n  }\r\n\r\n    const onSubmit2 = (data, e) => {\r\n      e.preventDefault();\r\n      Functions.updateData('companies',id, data);\r\n      setModoEdition(false)\r\n      setId('');\r\n      setCompanies('');\r\n      e.target.reset();\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h1>CompaÃ±ias</h1>\r\n        {user && <p>{user.email}</p>}\r\n        <h3>{modoEdition ? 'Editar CompaÃ±ia' : 'Agregar CompaÃ±ia'}</h3>\r\n        <form onSubmit={modoEdition ? handleSubmit(onSubmit2) : handleSubmit(onSubmit)}>\r\n          <label>Nombre de CompaÃ±ia <span className=\"text-danger\">*</span></label>\r\n          <input type=\"text\" name=\"nameCompany\" className=\"form-control my-2\" id=\"nameCompany\" value={companies.nameCompany}\r\n            onChange={handleInputChange}\r\n            ref={register({\r\n              required: {value: true, message: 'Campo Obligatorio'}\r\n            })}\r\n          />\r\n          <span className=\"text-danger text-small d-block mb-2\">\r\n            {errors.nameCompany && errors.nameCompany.message}\r\n          </span>\r\n          <label>PaÃ­s<span className=\"text-danger\">*</span></label>\r\n          <input type=\"text\" name=\"country\" className=\"form-control my-2\" id=\"country\" value={companies.country}\r\n            onChange={handleInputChange}\r\n            ref={register({\r\n              required: {value: true, message: 'Campo Obligatorio'}\r\n            })}\r\n          />\r\n          <span className=\"text-danger text-small d-block mb-2\">\r\n            {errors.country && errors.country.message}\r\n          </span>\r\n          <label>Responsable<span className=\"text-danger\">*</span></label>\r\n          <input type=\"text\" name=\"leader\" className=\"form-control my-2\" id=\"leader\" value={companies.leader}\r\n            onChange={handleInputChange}\r\n            ref={register({\r\n              required: {value: true, message: 'Campo Obligatorio'}\r\n              }\r\n            )}\r\n          />\r\n          <span className=\"text-danger text-small d-block mb-2\">\r\n            {errors.leader && errors.leader.message}\r\n          </span>\r\n          <button \r\n            className={modoEdition ? \"btn btn-warning\" : \"btn btn-primary\"}>\r\n              {modoEdition ? \"Editar\" : \"Agregar\"}\r\n          </button>\r\n      </form>\r\n      <div className=\"container mb-2\">\r\n    <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n            <h3>Listado de Empresas</h3>\r\n            <ul className=\"list-group\">\r\n            {\r\n                dataCompanies.map(item => (\r\n                <li className=\"list-group-item\" key={item.id}>\r\n                  <span>{item.name}</span>\r\n                    <button \r\n                        onClick={() => Functions.deleteData('companies', item.id)}\r\n                        className=\"btn btn-danger btn-sm float-right\"\r\n                    >\r\n                        Eliminar\r\n                    </button>\r\n                    <button \r\n                        onClick={() => changeEdit(item)}\r\n                        className=\"btn btn-warning btn-sm float-right mr-2\"\r\n                    >\r\n                        Editar\r\n                    </button>\r\n                </li>\r\n                ))\r\n            }\r\n            </ul>\r\n        </div>\r\n\r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n} \r\n\r\nexport default Companies","import React, { useContext } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { AuthContext } from './Auth';\r\n\r\nconst PrivateRoute = ({ component: RouteComponent, ...rest }) => {\r\n  const { currentUser } = useContext(AuthContext);\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(routeProps) => (currentUser ? (\r\n\t\t\t\t<RouteComponent {...routeProps} />\r\n\t\t\t) : (\r\n\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t))}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\n\r\nexport default PrivateRoute;","\r\nimport React, { useState, useEffect } from 'react';\r\nimport firebase from '../services/firebase';\r\nimport MaterialTable from 'material-table';\r\nimport AddSubject from './AddSubject';\r\nimport '../css/Subject.css';\r\nimport { Functions } from '../services/Functions';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Nav from './Nav';\r\nimport Header from './Header';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\ttoolbar: theme.mixins.toolbar,\r\n}))\r\n\r\nconst Provider = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst theme = useTheme();\r\n\tconst [user, setUser] = useState(null);\r\n\tconst [dataFactura, setDataFactura] = useState([]);\r\n\tconst [modalShow, setModalShow] = React.useState(false);\r\n\r\n\tconst header = [\r\n    { title: 'NÂ° DE FACTURA', field: 'numFactura' },\r\n    { title: 'ASUNTO', field: 'subject' },\r\n    { title: 'PROVEEDOR', field: 'provider' },\r\n    { title: 'RESPONSABLE', field: 'corporative' },\r\n\t{ title: 'ESTADO',  field: 'substatus'}, \r\n\t// render: rowData => <button style={rowData.substatus === 'PAGADA' ? {backgroundColor: '#8cff0069', width: '60%', fontSize: '11px', padding:'10px', cursor: 'initial'}:{backgroundColor:'#ffcd0094' , width: '60%', fontSize: '11px', cursor: 'initial'}}>{rowData.substatus}</button>},\r\n  ]\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.firestore()\r\n\t\t\t.collection('factura')\r\n\t\t\t.onSnapshot(onSnapshot => {\r\n\t\t\t\tconst newObj = onSnapshot.docs.map((item) => ({\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t...item.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetDataFactura(newObj)\r\n\t\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firebase.auth().currentUser) {\r\n\t\t\tsetUser(firebase.auth().currentUser)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tprops.history.push('/login')\r\n\t\t}\r\n\t}, [props.history])\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Nav />\r\n\t\t\t<div style={{ width: '100%' }}>\r\n\t\t\t\t<Header className={classes.toolbar} path=\"facturas\"></Header>\r\n\t\t\t\t<div className=\"container-subject\">\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"\"\r\n\t\t\t\t\t\tcolumns={header}\r\n\t\t\t\t\t\tdata={dataFactura}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\tFunctions.createData('factura', newData)\r\n\t\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\tFunctions.updateData('factura', oldData.id, newData);\r\n\t\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\tFunctions.deleteData('factura', oldData.id)\r\n\t\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\tactionsColumnIndex: -1,\r\n\t\t\t\t\t\t\theaderStyle: {\r\n\t\t\t\t\t\t\t\tbackgroundColor: '#9e8ca9',\r\n\t\t\t\t\t\t\t\tcolor: '#000'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\trowStyle: {\r\n\t\t\t\t\t\t\t\tpadding: '0 !important',\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t)\r\n}\r\n\r\nexport default Provider","\r\nimport React, { useState, useEffect } from 'react';\r\nimport firebase from '../services/firebase';\r\nimport MaterialTable from 'material-table';\r\nimport AddSubject from './AddSubject';\r\nimport '../css/Subject.css';\r\nimport { Functions } from '../services/Functions';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Nav from './Nav';\r\nimport Header from './Header';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\ttoolbar: theme.mixins.toolbar,\r\n}))\r\n\r\nconst Provider = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst theme = useTheme();\r\n\tconst [user, setUser] = useState(null);\r\n\tconst [dataProvider, setDataProvider] = useState([]);\r\n\tconst [modalShow, setModalShow] = React.useState(false);\r\n\r\n\tconst header = [\r\n\t\t{ title: 'RAZÃN SOCIAL', field: 'socialProvider' },\r\n\t\t{ title: 'TIPO DE SERVICIO', field: 'typeProvider' },\r\n    { title: 'PAÃS', field: 'countryProvider' },\r\n    { title: 'CORREO ELECTRÃNICO', field: 'emailProvider' }\r\n\t]\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.firestore()\r\n\t\t\t.collection('provider')\r\n\t\t\t.onSnapshot(onSnapshot => {\r\n\t\t\t\tconst newObj = onSnapshot.docs.map((item) => ({\r\n\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t...item.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetDataProvider(newObj)\r\n\t\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (firebase.auth().currentUser) {\r\n\t\t\tsetUser(firebase.auth().currentUser)\r\n\t\t}\r\n\t\telse {\r\n\t\t\tprops.history.push('/login')\r\n\t\t}\r\n\t}, [props.history])\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Nav />\r\n\t\t\t<div style={{ width: '100%' }}>\r\n\t\t\t\t<Header className={classes.toolbar} path=\"proveedores\"></Header>\r\n\t\t\t\t<div className=\"container-subject\">\r\n\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\ttitle=\"\"\r\n\t\t\t\t\t\t// className={classes.header}\r\n\t\t\t\t\t\tcolumns={header}\r\n\t\t\t\t\t\tdata={dataProvider}\r\n\t\t\t\t\t\teditable={{\r\n\t\t\t\t\t\t\tonRowAdd: (newData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\tFunctions.createData('provider', newData)\r\n\t\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowUpdate: (newData, oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\tFunctions.updateData('provider', oldData.id, newData);\r\n\t\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\tonRowDelete: (oldData) =>\r\n\t\t\t\t\t\t\t\tnew Promise((resolve) => {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t\t\t\t\tFunctions.deleteData('provider', oldData.id)\r\n\t\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\tactionsColumnIndex: -1,\r\n\t\t\t\t\t\t\theaderStyle: {\r\n\t\t\t\t\t\t\t\tbackgroundColor: '#9e8ca9',\r\n\t\t\t\t\t\t\t\tcolor: '#000'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\trowStyle: {\r\n\t\t\t\t\t\t\t\tpadding: '0 !important',\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<AddSubject\r\n\t\t\t\t\t\tshow={modalShow}\r\n\t\t\t\t\t\tonHide={() => setModalShow(false)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t)\r\n}\r\n\r\nexport default Provider","import React, {useEffect, useState} from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport firebase from '../services/firebase';\r\n\r\nconst DetailsProvider = () => {\r\n\r\n    // console.log(useParams())\r\n    const {id} = useParams();\r\n    // console.log(id)\r\n\r\n    const [provider, setProvider] = useState({})\r\n\r\n    useEffect(()=> {\r\n        firebase.firestore()\r\n        .collection('provider').doc(id).get()\r\n        .then(item => {\r\n           setProvider(item.data())}) \r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h3>{provider.socialProvider}</h3>\r\n            <ul>\r\n                <li>{provider.typeProvider}</li>\r\n                <li>{provider.countryProvider}</li>\r\n                <li>{provider.emailProvider}</li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DetailsProvider","import React, {useEffect, useState} from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport firebase from '../services/firebase';\r\n\r\nconst DetailsSubject = () => {\r\n\r\n    const {id} = useParams();\r\n\r\n    const [subject, setSubject] = useState({})\r\n    const [budget, setBudget] = useState([])\r\n\r\n    useEffect(()=> {\r\n        firebase.firestore()\r\n        .collection('subject').doc(id).get()\r\n        .then(item => {\r\n            setSubject(item.data())}) \r\n    }, [])\r\n\r\n    useEffect(()=> {\r\n        firebase.firestore().collection('subject').doc(id).collection('budgets')\r\n        .onSnapshot((querySnapshot) => {\r\n            const data = [];\r\n            querySnapshot.forEach((doc) => {\r\n            data.push({ id: doc.id, ...doc.data() });\r\n            });\r\n            setBudget(data)\r\n        });\r\n    }, [])\r\n\r\n\r\n\r\n    console.log(budget);\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h2> {subject.subject}</h2>\r\n            <p>{subject.responsibleSubject}</p>\r\n            <div> Presupuestos </div>\r\n            {budget.map((item) => (\r\n                <div key={item.id}>\r\n                    <p>{item.provider}</p>\r\n                    <span> {item.total} {item.currency}</span>\r\n                </div>\r\n            ))}\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default DetailsSubject","import React, { useState, useEffect } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Functions } from '../services/Functions';\r\nimport { useForm } from \"react-hook-form\";\r\nimport firebase from '../services/firebase';\r\nimport '../css/AddBillBudget.css';\r\n\r\nconst AddBillBudget = (props) => {\r\n\r\n  const [company, setCompany] = useState([]);\r\n  const [subject, setSubject] = useState({});\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [file, setFile] = React.useState();\r\n\r\n\r\n  //upload pdf\r\n  const uploadImage = (file) => {\r\n    const postImageRef = firebase.storage().ref().child(`images/${file.name}`);\r\n    return postImageRef.put(file)\r\n      .then(snapshot => snapshot.ref.getDownloadURL());\r\n  };\r\n\r\n  const onSubmit = (data, e) => {\r\n    e.preventDefault();\r\n    const allData = { ...props.budget, ...data, idBudget: props.idBudget, status: 'pendiente', substatus: 'REQUIERE REVISIÃN' }\r\n    uploadImage(file[0]).then((url) => {\r\n      allData['pdf'] = url;\r\n      console.log(url);\r\n      Functions.createData('factura', allData)\r\n    })\r\n    console.log(allData);\r\n    e.target.reset();\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    setSubject(e.target.value)\r\n  }\r\n\r\n  useEffect(() => {\r\n    firebase.firestore()\r\n      .collection('companies')\r\n      .onSnapshot(onSnapshot => {\r\n        const newObj = onSnapshot.docs.map((item) => ({\r\n          id: item.id,\r\n          ...item.data()\r\n        }))\r\n        setCompany(newObj)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size=\"md\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\" className=\"modal-title\">\r\n          Crear una Factura\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <form className=\"formulario\" onSubmit={handleSubmit(onSubmit)}>\r\n          <label>NÂ° Factura<span className=\"text-danger\">*</span></label>\r\n          <input type=\"text\" size=\"small\" name=\"numFactura\" className=\"form-control my-2\" id=\"numFactura\" value={props.factura.numFactura}\r\n            onChange={handleInputChange}\r\n            ref={register({ required: { value: true, message: 'Campo Obligatorio' } })}\r\n          />\r\n          <span className=\"text-danger text-small d-block mb-2\">\r\n            {errors.numFactura && errors.numFactura.message}\r\n          </span>\r\n          <label>Fecha<span className=\"text-danger\">*</span></label>\r\n          <input type=\"date\" name=\"dateFactura\" className=\"form-control my-2\" id=\"dateFactura\" value={props.factura.dateFactura}\r\n            onChange={handleInputChange}\r\n            ref={register({ required: { value: true, message: 'Campo Obligatorio' } })}\r\n          />\r\n          {/* <input type=\"text\" class=\"file-name\" id=\"inputval\" /> */}\r\n          <label>Factura<span className=\"text-danger\">*</span></label>\r\n          <input type=\"file\" className=\"hide my-2 fileButton\" name=\"file\" id=\"fileButton\" onChange={(e) => setFile(e.target.files)} />\r\n\r\n          <span className=\"text-danger text-small d-block mb-2\">\r\n            {errors.dateFactura && errors.dateFactura.message}\r\n          </span>\r\n          <button className=\"Main\">\r\n            AGREGAR\r\n          </button>\r\n        </form>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default AddBillBudget","import React, { useEffect } from 'react';\r\nimport { useForm } from \"react-hook-form\";\r\nimport firebase from '../services/firebase';\r\nimport { Form, Col, Card, Modal } from 'react-bootstrap';\r\nimport { Functions } from '../services/Functions';\r\nimport '../css/Budget.css';\r\nimport { withRouter } from 'react-router-dom'\r\nimport Button from '@material-ui/core/Button';\r\nimport '../css/Example.css';\r\n\r\nconst Example = (props) => {\r\n\tconst { register, handleSubmit } = useForm();\r\n\tconst [budgetsNew, setBudgetsNew] = React.useState({});\r\n\tconst [idBudget, setIdBudget] = React.useState('');\r\n\tconst [edition, setEdition] = React.useState('noedit');\r\n\tconst [show, setShow] = React.useState(false);\r\n\r\n\tconst [formCobro, setFormCobro] = React.useState();\r\n\tconst [payment, setPayment] = React.useState();\r\n\tconst [hito, setHito] = React.useState();\r\n\tconst [arrConcepto, setArrConcepto] = React.useState([]);\r\n\r\n\tconst handleClose = () => setShow(false);\r\n\tconst handleShow = () => setShow(true);\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tif (e.target.name === 'form_cobro') {\r\n\t\t\tsetFormCobro(e.target.value)\r\n\t\t}\r\n\t\tif (e.target.name === 'form_payment') {\r\n\t\t\tsetPayment(e.target.value)\r\n\t\t}\r\n\t\tif (e.target.name === 'num_hitos') {\r\n\t\t\tsetHito(e.target.value)\r\n\t\t}\r\n\t\tsetBudgetsNew(e.target.value);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.firestore()\r\n\t\t\t.collection('budgets').doc(props.factura.idBudget).get()\r\n\t\t\t.then(doc => {\r\n\t\t\t\tconst arr = Object.keys(doc.data()).map((key) => {\r\n\t\t\t\t\tif (key.substr(0, 8) === \"concepto\") {\r\n\t\t\t\t\t\treturn doc.data()[key]\r\n\t\t\t\t\t} else return \"\"\r\n\t\t\t\t}).filter((item) => item !== \"\")\r\n\t\t\t\tsetArrConcepto(arr)\r\n\t\t\t});\r\n\t}, [])\r\n\r\n\t/* CRUD Budgets */\r\n\tconst addBudget = (data, event) => {\r\n\t\tif(data.hora_estimada && data.tarifa_hora){\r\n\t\t\tdata.total = parseInt(data.hora_estimada) * parseInt(data.tarifa_hora)\r\n\t\t}\r\n\t\tconst newData = { idBudget: props.factura.idBudget, idFactura: props.factura.id, ...data }\r\n\t\tevent.preventDefault();\r\n\t\tfirebase.firestore().collection('concepto').add(newData)\r\n\t};\r\n\r\n\r\n\tconst saveUpdatedBudget = (data, event) => {\r\n\t\tevent.preventDefault();\r\n\t\tdata['estado'] = 'PENDIENTE';\r\n\t\tsetEdition('noedit');\r\n\t\tFunctions.updateData('budgets', idBudget, data);\r\n\t}\r\n\r\n\t// const Form = () => <p>my form</p>;\r\n\tconst formElements = [];\r\n\tfor (let i = 0; i < hito; i++) {\r\n\t\tformElements.push(\r\n\t\t\t<Form.Row>\r\n\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t<Form.Label>Monto del hito {i + 1}</Form.Label>\r\n\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name={'hito' + i} id={'hito' + i} onChange={handleChange} />\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t<Form.Label>Descripcion del hito {i + 1}</Form.Label>\r\n\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name={'hito_desc' + i} id={'hito_desc' + i} onChange={handleChange} />\r\n\t\t\t\t</Form.Group>\r\n\t\t\t</Form.Row>\r\n\t\t);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"d-flex flex-column align-items-center\">\r\n\t\t\t<Modal show={show} onHide={handleClose}>\r\n\t\t\t\t<Card style={{ width: '30rem' }}>\r\n\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t<Form onSubmit={edition === 'edit' ? handleSubmit(saveUpdatedBudget) : handleSubmit(addBudget)}>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h5>AGREGAR CONCEPTO</h5>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Concepto</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" selectedValue=\"Choose...\" ref={register} name=\"concept\" id=\"concept\" onChange={handleChange} value={budgetsNew.concept}>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Choose ...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t{arrConcepto.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={item}>{item}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Moneda</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" ref={register} selectedValue=\"Choose...\" name=\"currency\" id=\"currency\" onChange={handleChange} value={budgetsNew.currency}>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Choose ...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Soles</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Dolares</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Euros</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Libras esterlinas</option>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div style={{ width: '90%' }}>\r\n\t\t\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Tipo de honorario</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" defaultValue=\"Choose...\" ref={register} name=\"form_cobro\" id=\"form_cobro\" onChange={handleChange} value={budgetsNew.form_cobro}>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Choose ...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Fijo</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Exito</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Horas</option>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t\t\t</Form.Row>\r\n\t\t\t\t\t\t\t\t{formCobro === 'Fijo' &&\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Monto</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name=\"total\" id=\"total\" onChange={handleChange} value={budgetsNew.total} />\r\n\t\t\t\t\t\t\t\t\t</Form.Group>}\r\n\t\t\t\t\t\t\t\t{formCobro === 'Exito' &&\r\n\t\t\t\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Monto</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name=\"total\" id=\"total\" onChange={handleChange} value={budgetsNew.total} />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Definicion de Ã©xito</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name=\"descripcion\" id=\"descripcion\" onChange={handleChange} value={budgetsNew.descripcion} />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Form.Row>}\r\n\t\t\t\t\t\t\t\t{formCobro === 'Horas' &&\r\n\t\t\t\t\t\t\t\t\t<Form.Row>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Tarifa horaria</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name=\"tarifa_hora\" id=\"tarifa_hora\" onChange={handleChange} value={budgetsNew.tarifa_hora} />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group as={Col}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Horas</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" ref={register} name=\"hora_estimada\" id=\"hora_estimada\" onChange={handleChange} value={budgetsNew.hora_estimada} />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Form.Row>}\r\n\t\t\t\t\t\t\t\t<div style={{ width: '100%' }}>\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Forma de pago</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" defaultValue=\"Choose...\" ref={register} name=\"form_payment\" id=\"form_payment\" onChange={handleChange} value={budgetsNew.form_payment}>\r\n\t\t\t\t\t\t\t\t\t\t<option>Choose ...</option>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Hitos</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Mensual</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Bimestral</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Trimestral</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Semestral</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Anual</option>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t{payment === 'Hitos' &&\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>NÃºmero de hitos</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control size=\"sm\" as=\"select\" defaultValue=\"Choose...\" ref={register} name=\"num_hitos\" id=\"num_hitos\" onChange={handleChange} value={budgetsNew.num_hitos}>\r\n\t\t\t\t\t\t\t\t\t\t\t<option>Choose ...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{[...Array(5)].map((e, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option>{i + 1}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t{hito !== undefined && formElements}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Button className=\"newButtonExample\" size=\"large\" variant=\"outlined\" type=\"submit\">\r\n\t\t\t\t\t\t\t\t{edition === 'edit' ? 'EDIT' : 'SAVE'}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t\t</Modal>\r\n\t\t\t<Button className=\"concepto\" onClick={handleShow}>Agregar Concepto</Button>\r\n\t\t</div >\r\n\t);\r\n}\r\n\r\nexport default withRouter(Example);\r\n","import React, {useEffect} from 'react';\r\nimport { Functions } from '../services/Functions';\r\nimport firebase from '../services/firebase';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport '../css/Concept.css';\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\nconst Concept=(props) => {\r\n\r\n  const [concepto, setConcepto] = React.useState([]);\r\n  const classes = useStyles();\r\n\r\n  useEffect(()=> {\r\n    firebase.firestore().collection('concepto').where('idFactura', '==', props.idFactura)\r\n    .onSnapshot((querySnapshot) => {\r\n      const data = [];\r\n      let suma = 0;\r\n      querySnapshot.forEach((doc) => {     \r\n        data.push({ id: doc.id, ...doc.data() });\r\n      });\r\n      setConcepto(data);\r\n    });\r\n  }, [])\r\n\r\n  const changeAprobado = () => {\r\n    Functions.updateData('factura', props.idFactura, {status: 'aprobada', substatus: 'PENDIENTE DE PAGO'})\r\n  }\r\n\r\n  const changePagado = () => {\r\n    Functions.updateData('factura', props.idFactura, {status: 'aprobada', substatus: 'PAGADA'})\r\n  }\r\n  \r\n  return concepto.length > 0 && (\r\n    <div>\r\n          <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>CONCEPTO</TableCell>\r\n            <TableCell align=\"center\">TIPO DE COBRO</TableCell>\r\n            <TableCell align=\"center\">FORMA DE PAGO</TableCell>\r\n            <TableCell align=\"center\">MONTO</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {concepto.map((row) => (\r\n            <TableRow key={row.id}>\r\n              <TableCell component=\"th\" scope=\"row\">\r\n                {row.concept}\r\n              </TableCell>\r\n              <TableCell align=\"center\">{row.form_cobro}</TableCell>\r\n              <TableCell align=\"center\">{row.form_payment}</TableCell>\r\n              <TableCell align=\"center\">{row.total}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n    <div className=\"d-flex justify-content-end mb-2 mt-1 btnState\">\r\n      {props.statusFactura==='aprobada' ? (\r\n        <div className=\"container text-right\">\r\n          {props.substatus==='PENDIENTE DE PAGO' && <button onClick={()=>changePagado()} className=\"btnAprobada\">Pagar</button>}\r\n          {props.substatus==='PAGADA' && <span className=\"text-success font-weight-bold\">FACTURA PAGADA</span>}\r\n        </div>\r\n      ) : (\r\n        <button onClick={()=>changeAprobado()} className=\"btnUnit\">Conforme</button>\r\n      )}\r\n      {props.substatus!=='PAGADA' && <button className=\"btnUnit\">Rechazar</button>\r\n      }\r\n    </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Concept","import React, { useState, useEffect } from 'react';\r\nimport firebase from '../services/firebase';\r\nimport AddBillBudget from './AddBillBudget';\r\nimport Example from './example';\r\nimport Concept from './Concept';\r\nimport '../css/BillBudget.css';\r\nimport { Card } from '@material-ui/core';\r\nconst BillBudget = (props) => {\r\n\r\n  const [user, setUser] = useState(null);\r\n  const [dataFactura, setDataFactura] = useState([]);\r\n  const [factura, setFactura] = useState({});\r\n  const [id, setId] = useState('');\r\n  const [modalShow, setModalShow] = React.useState(false);\r\n  const [sumConcepto, setSumConcepto] = React.useState(0);\r\n\r\n\r\n  useEffect(() => {\r\n    firebase.firestore()\r\n      .collection('concepto').where('idBudget', '==', props.idBudget)\r\n      .onSnapshot(onSnapshot => {\r\n\r\n\r\n        if (onSnapshot.docs.length > 0) {\r\n          const newArr = onSnapshot.docs.map((item) => parseInt(item.data().total)).reduce((a, b) => a + b)\r\n          setSumConcepto(newArr);\r\n        }\r\n        console.log(sumConcepto);\r\n\r\n      })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    firebase.firestore()\r\n      .collection('factura').where('idBudget', '==', props.idBudget)\r\n      .onSnapshot(onSnapshot => {\r\n        const newObj = onSnapshot.docs.map((item) => ({\r\n          id: item.id,\r\n          ...item.data()\r\n        }))\r\n        setDataFactura(newObj)\r\n      })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (firebase.auth().currentUser) {\r\n      setUser(firebase.auth().currentUser)\r\n    }\r\n    else {\r\n      props.history.push('/login')\r\n    }\r\n  }, [props.history])\r\n\r\n\r\n  return (\r\n\r\n    <div className=\"container-fluid\">\r\n      <div>\r\n        <div className=\"divButton d-flex justify-content-end mb-4\">\r\n          <button className=\"mt-4button pull-right btnMain\" onClick={() => setModalShow(true)}>\r\n            Agregar Facturas\r\n        </button>\r\n        </div>\r\n        <Card className=\"row mb-4 py-2 text-center \">\r\n          <div className=\"col-4\">\r\n            <div ><span className=\"bold\">Monto Inicial</span></div>\r\n            <div style={{fontSize: '20px'}}>{props.totalbudget}</div>\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <div><span className=\"bold\">Monto Facturado</span></div>\r\n            <div style={{fontSize: '20px'}}>{sumConcepto}</div>\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <div><span className=\"bold\">Diferencia</span></div>\r\n            <div className={(props.totalbudget - sumConcepto) < 0 ? 'text-danger font-weight-bold fontBill' : 'text-success font-weight-bold fontBill'}>{props.totalbudget - sumConcepto}</div>\r\n          </div>\r\n        </Card>\r\n        <AddBillBudget\r\n          show={modalShow}\r\n          budget={props.budget}\r\n          idBudget={props.idBudget}\r\n          factura={factura}\r\n          onHide={() => setModalShow(false)}\r\n        />\r\n      </div>\r\n\r\n      {dataFactura.map((ele) => (\r\n        <div key={ele.id} style={{marginBottom: '3%'}}>\r\n          <Card className=\"row py-2 d-flex justify-content-between align-items-center mb-1 px-4 factura\">\r\n            <span className=\"width\"><span className=\"bold\">NÂ° de factura:</span> {ele.numFactura}</span>\r\n            <span className=\"width\"><span className=\"bold\">Fecha: </span>{ele.dateFactura}</span>\r\n            <span className=\"width\"><span className=\"bold\">PDF:</span> <img style={{cursor: 'pointer'}} src=\"https://img.icons8.com/fluent/48/000000/pdf.png\" alt=\"pdf\" onClick={() => window.open(ele.pdf)} /></span>\r\n\r\n            {/* <span>PDF: {ele.pdf}</span> */}\r\n            <Example factura={ele} />\r\n          </Card>\r\n          <Concept className=\"container-fluid\" idFactura={ele.id} statusFactura={ele.status} substatus= {ele.substatus} idBudget={props.idBudget} />\r\n        </div>\r\n\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\nexport default BillBudget;","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport firebase from '../services/firebase';\r\nimport { Card, Button } from 'react-bootstrap';\r\nimport { Functions } from '../services/Functions';\r\nimport BillBudget from './BillBudget';\r\nimport Nav from './Nav';\r\nimport Header from './Header';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport '../css/DetailBudget.css';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\ttoolbar: theme.mixins.toolbar,\r\n}))\r\n\r\n\r\nconst DetailsBudgets = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst theme = useTheme();\r\n\r\n\tconst { id } = useParams();\r\n\tconst [budget, setBudget] = useState([])\r\n\tconst [totalBudget, setTotalBudget] = useState(0)\r\n\r\n\tconst updateState = () => {\r\n\t\tFunctions.updateData('budgets', id, { estado: 'pendiente de aprobacion' })\r\n\t\tprops.history.push('/budgets')\r\n\t}\r\n\tconst addFactura = () => {\r\n\t\tconsole.log('listo');\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.firestore()\r\n\t\t\t.collection('budgets').doc(id).get()\r\n\t\t\t.then(doc => {\r\n\t\t\t\tconst allTotal = Object.keys(doc.data()).map((key) => {\r\n\t\t\t\t\tif (key.substr(0, 5) === \"total\") {\r\n\t\t\t\t\t\treturn parseInt(doc.data()[key])\r\n\t\t\t\t\t} else return 0\r\n\t\t\t\t}).reduce((a, b) => a + b)\r\n\t\t\t\tsetTotalBudget(allTotal);\r\n\t\t\t\tsetBudget(doc.data())\r\n\t\t\t});\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Nav />\r\n\t\t\t<div style={{ width: '100%' }}>\r\n\t\t\t\t<Header className={classes.toolbar} path=\"presupuesto por aprobar\"></Header>\r\n\t\t\t\t<div className=\"container-details\">\r\n\t\t\t\t\t<Card style={{ width: '100%' }} className=\"mb-4\">\r\n\t\t\t\t\t\t<Card.Header className=\"d-flex justify-content-between name\">\r\n\t\t\t\t\t\t\t<div><span className=\"bold\">Asunto:</span> {budget.subject}</div>\r\n\t\t\t\t\t\t\t<div><span className=\"bold\">Responsable:</span> {budget.corporative}</div>\r\n\t\t\t\t\t\t</Card.Header>\r\n\t\t\t\t\t\t<Card.Body className=\"body\">\r\n\t\t\t\t\t\t\t<div className=\"row text-center\">\r\n\t\t\t\t\t\t\t\t<div className=\"columna vl text-center\">\r\n\t\t\t\t\t\t\t\t\t<div><span className=\"bold\">Empresa</span></div>\r\n\t\t\t\t\t\t\t\t\t<div>{budget.company}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"columna vl \">\r\n\t\t\t\t\t\t\t\t\t<div><span className=\"bold\">Proveedor</span></div>\r\n\t\t\t\t\t\t\t\t\t<div>{budget.provider}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"columna vl\">\r\n\t\t\t\t\t\t\t\t\t<div><span className=\"bold\">Tipo de servicio</span></div>\r\n\t\t\t\t\t\t\t\t\t<div>{budget.type_service}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"columna vl\">\r\n\t\t\t\t\t\t\t\t\t<div><span className=\"bold\">Monto</span></div>\r\n\t\t\t\t\t\t\t\t\t<div>{budget.montoTotal} {budget.currency}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"pdf\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"bold\">PDF</div>\r\n\t\t\t\t\t\t\t\t\t<img style={{ cursor: 'pointer' }} src=\"https://img.icons8.com/fluent/48/000000/pdf.png\" alt=\"pdf\" onClick={() => window.open(budget.pdf)} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card.Body>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t{budget.estado !== \"pendiente de aprobacion\" ? (\r\n\t\t\t\t\t\t\t<Button onClick={() => updateState()} className=\"btnAprobar\">Aprobar</Button>\r\n\t\t\t\t\t\t) : <BillBudget budget={budget} idBudget={id} totalbudget={budget.montoTotal} />}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n\r\n\r\n\r\n}\r\n\r\nexport default DetailsBudgets;","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport firebase from '../services/firebase';\r\nimport { Card, Button} from 'react-bootstrap';\r\nimport { Functions } from '../services/Functions';\r\nimport BillBudget from './BillBudget';\r\n\r\nconst DetailsFacturacion = () => {\r\n\tconst { id } = useParams();\r\n\tconsole.log(id)\r\n\tconst [facturacion, setFacturacion] = useState([])\r\n\r\n\tconst updateState = () => {\r\n\t\tFunctions.updateData('budgets', id, {estado: 'pendiente de aprobacion'})\r\n\t}\r\n\tconst addFactura = () =>{\r\n\t\tconsole.log('listo');\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.firestore()\r\n\t\t\t.collection('budgets').doc(id).get()\r\n\t\t\t.then(doc => {\r\n\t\t\t\tsetFacturacion(doc.data())\r\n\t\t\t});\r\n\t}, [])\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"detail-budget\">\r\n\t\t\t<Card style={{ width: '50rem' }}>\r\n\t\t\t\t<Card.Header className=\"d-flex justify-content-between\">\r\n\t\t\t\t\t<div>Asunto: {facturacion.subject}</div>\r\n\t\t\t\t\t<div>Responsable: {facturacion.corporative}</div>\r\n\t\t\t\t</Card.Header>\r\n\t\t\t\t<Card.Body>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-between\">\r\n\t\t\t\t\t\t<div className=\"d-flex flex-column\">\r\n\t\t\t\t\t\t\t<div>Empresa:</div>\r\n\t\t\t\t\t\t\t<div>{facturacion.company}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex flex-column\">\r\n\t\t\t\t\t\t\t<div>Proveedor:</div>\r\n\t\t\t\t\t\t\t<div>{facturacion.provider}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex flex-column\">\r\n\t\t\t\t\t\t\t<div>Tipo de servicio:</div>\r\n\t\t\t\t\t\t\t<div>{facturacion.type_provider}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>Moneda: {facturacion.currency}</div>\r\n\t\t\t\t\t<div>Monto Total Aprox: {facturacion.total}</div>\r\n\t\t\t\t\t<div>Tipo de cobro: {facturacion.form_cobro}</div>\r\n\t\t\t\t\t<div>Concepto: {facturacion.concept}</div>\r\n\t\t\t\t</Card.Body>\r\n\t\t\t</Card>\r\n\t\t\t\r\n\t\t</div >\r\n\t)\r\n\r\n\r\n\r\n}\r\n\r\nexport default DetailsFacturacion;","import React, {useState, useEffect} from 'react';\r\nimport { Switch, Route, HashRouter } from 'react-router-dom';\r\nimport Login from './components/Login';\r\nimport Home from './components/Home';\r\nimport Companies from './components/Companies';\r\nimport { AuthProvider } from './components/Auth';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport Facturacion from './components/Facturacion.jsx';\r\nimport Provider from './components/Provider';\r\nimport DetailsProvider from './components/DetailsProvider';\r\nimport DetailsSubject from './components/DetailSubject';\r\nimport DetailsBudgets from './components/DetailsBudgets';\r\nimport DetailsFacturacion from './components/DetailsFacturacion';\r\n\r\nimport firebase from './services/firebase';\r\nimport Budgets from './components/Budgets';\r\nimport Subject from './components/Subject';\r\nfunction App() {\r\n\tconst [usuario, setUsuario] = useState('')\r\n\tconst [provider, setProvider] = useState([])\r\n\tfirebase.auth().onAuthStateChanged((user)=> {\r\n\t\tsetUsuario(user.email) ;\t\r\n\t});\r\n\r\n\t/*const getprovider = () => {\r\n\t\t\tlet obj = [];\r\n\t\tfirebase.firestore()\r\n\t\t\t.collection('provider')\r\n\t\t\t.get().then(info => {\r\n\t\t\t\tconst findProvider = info.find(item => item.data().emailProvider === usuario)\r\n\t\t\t\tsetProvider(findProvider)\r\n\t\t\t\t})\r\n\t\t\t}*/\r\n\t\r\n\t\r\n\treturn (\r\n\t\t<AuthProvider>\r\n\t\t\t<HashRouter>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/\" component={Login} />\r\n\t\t\t\t\t<PrivateRoute exact path=\"/provider/:id\" component={DetailsProvider} />\r\n\t\t\t\t\t<PrivateRoute exact path=\"/provider/:id\" component={DetailsFacturacion} />\r\n\t\t\t\t\t<PrivateRoute exact path=\"/provider\" component={Provider}/>\r\n\t\t\t\t\t<PrivateRoute exact path=\"/companies\" component={Companies}/>\r\n\t\t\t\t\t<PrivateRoute exact path=\"/subject/:id\" component={DetailsSubject}/>\r\n\t\t\t\t\t<PrivateRoute exact path=\"/subject\" component={Subject}/>\r\n\t\t\t\t\t<PrivateRoute exact path=\"/facturacion\" component={Facturacion}/>\r\n\t\t\t\t\t<PrivateRoute exact path=\"/facturacion/:id\" component={DetailsFacturacion}/>\r\n\r\n\r\n\t\t\t\t\t<PrivateRoute exact path=\"/budgets\" component={Budgets} />\r\n\t\t\t\t\t<PrivateRoute exact path=\"/budgets/:id\" component={DetailsBudgets} />\r\n\t\t\t\t\t<PrivateRoute exact path=\"/home\" component={Home} />\r\n\t\t\t\t</Switch>\r\n\t\t\t</HashRouter>\r\n\t\t</AuthProvider>\r\n\t)\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter><App /></BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}